import { Homes } from './homes';
import './App.css';
import { Helmet } from 'react-helmet';
import { HelmetProvider } from 'react-helmet-async';

const cspOpts = {
  contentSecurityPolicy: {
    directives: {
      defaultSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'accounts.google.com',
        'ssl.gstatic.com',
        'http://localhost:8070/',
        'http://localhost:3000/',
      ],
      scriptSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'accounts.google.com',
        'ssl.gstatic.com',
      ],
      styleSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'cdn.jsdelivr.net',
        'accounts.google.com',
        'ssl.gstatic.com',
      ],
      imgSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'cdn.jsdelivr.net',
        'accounts.google.com',
        'ssl.gstatic.com',
      ],
      connectSrc: ["'self'", 'accounts.google.com', 'ssl.gstatic.com'],
      fontSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'accounts.google.com',
      ],
      objectSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'cdn.jsdelivr.net',
        'accounts.google.com',
        'ssl.gstatic.com',
      ],
      mediaSrc: ["'self'"],
      frameSrc: [
        "'self'",
        'fonts.gstatic.com',
        'fonts.googleapis.com',
        'cdn.jsdelivr.net',
        'accounts.google.com',
        'ssl.gstatic.com',
      ],
      sandbox: null,
      reportUri: null,
      childSrc: ['self'],
      formAction: ["'self'", 'accounts.google.com', 'ssl.gstatic.com'],
      frameAncestors: ["'none'"],
      pluginTypes: null,
      baseUri: null,
      reportTo: null,
      workerSrc: null,
      manifestSrc: null,
      prefetchSrc: null,
      navigateTo: null,
    },
  },
  crossOriginEmbedderPolicy: { policy: 'credentialless' },
  crossOriginOpenerPolicy: { policy: 'same-origin-allow-popups' },
  crossOriginResourcePolicy: { policy: 'same-site' },
  //OriginAgentCluster:false,
  referrerPolicy: {
    policy: ['origin'],
  },
  StrictTransportSecurity: false,
  // XContentTypeOptions:false,
  XDNSPrefetchControl: false,
  //XDownloadOptions:false,
  // XFrameOptions:false,
  // XPermittedCrossDomainPolicies:false,
  xPoweredBy: false,
};

console.log('csp--> ', { cspOpts });

function App() {
  return (
    <div className="App">
      <HelmetProvider>
        <Helmet>
          <meta http-equiv="Content-Security-Policy" content={cspOpts} />
        </Helmet>

        <Homes />
      </HelmetProvider>
    </div>
  );
}

export default App;
