import axios from 'axios';
import React, { useState, useEffect } from 'react';

import Header from '../../Header';

const RemovedEmployee = () => {
  const apiUrl = process.env.REACT_APP_API_BASE_URL;

  const [employees, setEmployees] = useState([]);
  // const [showEmp, setShowEmp] = useState(false);
  // const [modalEmp, setEmp] = useState([]);

  useEffect(() => {
    function getEmployees() {
      axios
        .get(apiUrl + 'REmployee/allREmp')
        .then((res) => {
          setEmployees(res.data.reverse());
          console.log('Data recieved');
        })
        .catch((error) => {
          alert(error.message);
        });
    }

    getEmployees();
  }, []);

  return (
    <div className="page-component-body">
      <Header></Header>

      <div className="table-emp">
        <div className="row table-head mt-3">
          <div className="col">
            <h3 className="float-left ">List of Removed Employees</h3>
          </div>
          <a href="/addEmp" className="float-right">
            <button className="btn btn-ok white">Add Employee</button>
          </a>
          <a href="/allEmp" className="float-right">
            <button className="btn btn-ok white">Current Employees</button>
          </a>
        </div>

        <table className="table table-hover">
          <thead className="thead-dark">
            <tr>
              <th className="text-center">EmpName</th>
              <th className="text-center">Email</th>
              <th className="text-center">Phone</th>
              <th className="text-center">NIC</th>
              <th className="text-right">Designation</th>
              {/* <th className="text-right">Action</th> */}
            </tr>
          </thead>
          <tbody>
            {employees.map((employee) => {
              return (
                <tr>
                  <td className="text-center">{employee.Name}</td>
                  <td className="text-center">{employee.Email}</td>
                  <td className="text-center">{employee.Phone}</td>
                  <td className="text-center">{employee.NIC}</td>
                  <td className="text-right">{employee.Designation}</td>
                  {/* <td className="text-center">
                                        <button
                                             className="btn btn-light btn-sm"
                                             onClick={() => openModalEmpUpdate(employee)}
                                        >
                                            Update
                                        </button>
                                        <button
                                            onClick={() => openModalEmpDelete(employee)}
                                            className="btn btn-danger btn-sm"
                                        >
                                            Delete
                                        </button>
                                    </td> */}
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>
    </div>
  );
};
export default RemovedEmployee;
